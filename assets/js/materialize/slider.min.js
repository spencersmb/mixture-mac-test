!function(e){e.fn.slider=function(i){var t={indicators:!0,height:400,transition:500,interval:6e4};return i=e.extend(t,i),this.each(function(){function t(e,i){e.hasClass("center-align")?e.velocity({opacity:0,translateY:-100},{duration:i,queue:!1}):e.hasClass("right-align")?e.velocity({opacity:0,translateX:100},{duration:i,queue:!1}):e.hasClass("left-align")&&e.velocity({opacity:0,translateX:-100},{duration:i,queue:!1})}function a(e){e>=s.length?e=0:0>e&&(e=s.length-1),c=u.find(".active").index(),c!=e&&(n=s.eq(c),$caption=n.find(".caption"),n.removeClass("active"),n.velocity({opacity:0},{duration:i.transition,queue:!1,easing:"easeOutQuad",complete:function(){s.not(".active").velocity({opacity:0,translateX:0,translateY:0},{duration:0,queue:!1})}}),t($caption,i.transition),i.indicators&&o.eq(c).removeClass("active"),s.eq(e).velocity({opacity:1},{duration:i.transition,queue:!1,easing:"easeOutQuad"}),s.eq(e).find(".caption").velocity({opacity:1,translateX:0,translateY:0},{duration:i.transition,delay:i.transition,queue:!1,easing:"easeOutQuad"}),s.eq(e).addClass("active"),i.indicators&&o.eq(e).addClass("active"))}var n,r=e(this),u=r.find("ul.slides").first(),s=u.find("li"),c=u.find(".active").index();if(-1!=c&&(n=s.eq(c)),400!=i.height&&(r.height(i.height+40),u.height(i.height)),s.find(".caption").each(function(){t(e(this),0)}),s.find("img").each(function(){e(this).css("background-image","url("+e(this).attr("src")+")"),e(this).attr("src","data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==")}),i.indicators){var o=e('<ul class="indicators"></ul>');s.each(function(){var t=e('<li class="indicator-item"></li>');t.click(function(){var t=u.parent(),n=t.find(e(this)).index();a(n),clearInterval($interval),$interval=setInterval(function(){c=u.find(".active").index(),s.length==c+1?c=0:c+=1,a(c)},i.transition+i.interval)}),o.append(t)}),r.append(o),o=r.find("ul.indicators").find("li.indicator-item")}n?n.show():(s.first().addClass("active").velocity({opacity:1},{duration:i.transition,queue:!1,easing:"easeOutQuad"}),c=0,n=s.eq(c),i.indicators&&o.eq(c).addClass("active")),n.find("img").each(function(){n.find(".caption").velocity({opacity:1,translateX:0,translateY:0},{duration:i.transition,queue:!1,easing:"easeOutQuad"})}),$interval=setInterval(function(){c=u.find(".active").index(),a(c+1)},i.transition+i.interval);var l=!1,d=!1,v=!1;r.hammer({prevent_default:!1}).bind("pan",function(e){if("touch"===e.gesture.pointerType){clearInterval($interval);var i=e.gesture.direction,t=e.gesture.deltaX,a=e.gesture.velocityX;$curr_slide=u.find(".active"),$curr_slide.velocity({translateX:t},{duration:50,queue:!1,easing:"easeOutQuad"}),4===i&&(t>r.innerWidth()/2||-.65>a)?v=!0:2===i&&(t<-1*r.innerWidth()/2||a>.65)&&(d=!0);var n;d&&(n=$curr_slide.next(),0===n.length&&(n=s.first()),n.velocity({opacity:1},{duration:300,queue:!1,easing:"easeOutQuad"})),v&&(n=$curr_slide.prev(),0===n.length&&(n=s.last()),n.velocity({opacity:1},{duration:300,queue:!1,easing:"easeOutQuad"}))}}).bind("panend",function(e){"touch"===e.gesture.pointerType&&($curr_slide=u.find(".active"),l=!1,curr_index=u.find(".active").index(),v||d?d?(a(curr_index+1),$curr_slide.velocity({translateX:-1*r.innerWidth()},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){$curr_slide.velocity({opacity:0,translateX:0},{duration:0,queue:!1})}})):v&&(a(curr_index-1),$curr_slide.velocity({translateX:r.innerWidth()},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){$curr_slide.velocity({opacity:0,translateX:0},{duration:0,queue:!1})}})):$curr_slide.velocity({translateX:0},{duration:300,queue:!1,easing:"easeOutQuad"}),d=!1,v=!1,clearInterval($interval),$interval=setInterval(function(){c=u.find(".active").index(),s.length==c+1?c=0:c+=1,a(c)},i.transition+i.interval))})})}}(jQuery);
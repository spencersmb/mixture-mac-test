!function(e){e.fn.extend({openModal:function(o){var t=this,n=e('<div id="lean-overlay"></div>');e("body").append(n);var a={opacity:.5,in_duration:300,out_duration:200,ready:void 0,complete:void 0,dismissible:!0};o=e.extend(a,o),o.dismissible&&(e("#lean-overlay").click(function(){e(t).closeModal(o)}),e(document).keyup(function(n){27===n.keyCode&&(e(t).closeModal(o),e(this).off())})),e(t).find(".modal-close").click(function(n){n.preventDefault(),e(t).closeModal(o)}),e("#lean-overlay").css({display:"block",opacity:0}),e(t).css({display:"block",top:"4%",opacity:0}),e("#lean-overlay").velocity({opacity:o.opacity},{duration:o.in_duration,queue:!1,ease:"easeOutCubic"}),e(t).velocity({top:"10%",opacity:1},{duration:o.in_duration,queue:!1,ease:"easeOutCubic",complete:function(){"function"==typeof o.ready&&o.ready()}})}}),e.fn.extend({closeModal:function(o){var t={out_duration:200,complete:void 0},o=e.extend(t,o);e(".modal-close").off(),e("#lean-overlay").velocity({opacity:0},{duration:o.out_duration,queue:!1,ease:"easeOutQuart"}),e(this).fadeOut(o.out_duration,function(){e(this).css({top:0}),e("#lean-overlay").css({display:"none"}),"function"==typeof o.complete&&o.complete(),e("#lean-overlay").remove()})}}),e.fn.extend({leanModal:function(o){return this.each(function(){e(this).click(function(t){var n=e(this).attr("href");e(n).openModal(o),t.preventDefault()})})}})}(jQuery);
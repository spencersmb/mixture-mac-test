/**
 * Extend jquery with a scrollspy plugin.
 * This watches the window scroll and fires events when elements are scrolled into viewport.
 *
 * throttle() and getTime() taken from Underscore.js
 * https://github.com/jashkenas/underscore
 *
 * @author Copyright 2013 John Smart
 * @license https://raw.github.com/thesmart/jquery-scrollspy/master/LICENSE
 * @see https://github.com/thesmart
 * @version 0.1.2
 */
!function(t){function e(e,r,n,i){var o=t();return t.each(a,function(t,a){if(a.height()>0){var l=a.offset().top,s=a.offset().left,c=s+a.width(),u=l+a.height(),f=!(s>r||i>c||l>n||e>u);f&&o.push(a)}}),o}function r(){++c;var r=o.scrollTop(),n=o.scrollLeft(),i=n+o.width(),a=r+o.height(),s=e(r+u.top+200,i+u.right,a+u.bottom,n+u.left);t.each(s,function(t,e){var r=e.data("scrollSpy:ticks");"number"!=typeof r&&e.triggerHandler("scrollSpy:enter"),e.data("scrollSpy:ticks",c)}),t.each(l,function(t,e){var r=e.data("scrollSpy:ticks");"number"==typeof r&&r!==c&&(e.triggerHandler("scrollSpy:exit"),e.data("scrollSpy:ticks",null))}),l=s}function n(){o.trigger("scrollSpy:winSize")}/**
	 * Returns a function, that, when invoked, will only be triggered at most once
	 * during a given window of time. Normally, the throttled function will run
	 * as much as it can, without ever going more than once per `wait` duration;
	 * but if you'd like to disable the execution on the leading edge, pass
	 * `{leading: false}`. To disable execution on the trailing edge, ditto.
	 * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
	 * @param {function} func
	 * @param {number} wait
	 * @param {Object=} options
	 * @returns {Function}
	 */
function i(t,e,r){var n,i,o,a=null,l=0;r||(r={});var s=function(){l=r.leading===!1?0:f(),a=null,o=t.apply(n,i),n=i=null};return function(){var c=f();l||r.leading!==!1||(l=c);var u=e-(c-l);return n=this,i=arguments,0>=u?(clearTimeout(a),a=null,l=c,o=t.apply(n,i),n=i=null):a||r.trailing===!1||(a=setTimeout(s,u)),o}}var o=t(window),a=[],l=[],s=!1,c=0,u={top:0,right:0,bottom:0,left:0},f=Date.now||function(){return(new Date).getTime()};t.scrollSpy=function(e,n){var l=[];e=t(e),e.each(function(e,r){a.push(t(r)),t(r).data("scrollSpy:id",e),t("a[href=#"+t(r).attr("id")+"]").click(function(e){e.preventDefault();var r=t(this.hash).offset().top+1;t(".tabs-wrapper").length?t("html, body").animate({scrollTop:r-60},{duration:400,easing:"easeOutCubic"}):t("html, body").animate({scrollTop:r},{duration:400,easing:"easeOutCubic"})})}),n=n||{throttle:100},u.top=n.offsetTop||0,u.right=n.offsetRight||0,u.bottom=n.offsetBottom||0,u.left=n.offsetLeft||0;var c=i(r,n.throttle||100),f=function(){t(document).ready(c)};return s||(o.on("scroll",f),o.on("resize",f),s=!0),setTimeout(f,0),e.on("scrollSpy:enter",function(){l=t.grep(l,function(t){return 0!=t.height()});var e=t(this);l[0]?(t("a[href=#"+l[0].attr("id")+"]").removeClass("active"),e.data("scrollSpy:id")<l[0].data("scrollSpy:id")?l.unshift(t(this)):l.push(t(this))):l.push(t(this)),t("a[href=#"+l[0].attr("id")+"]").addClass("active")}),e.on("scrollSpy:exit",function(){if(l=t.grep(l,function(t){return 0!=t.height()}),l[0]){t("a[href=#"+l[0].attr("id")+"]").removeClass("active");var e=t(this);l=t.grep(l,function(t){return t.attr("id")!=e.attr("id")}),l[0]&&t("a[href=#"+l[0].attr("id")+"]").addClass("active")}}),e},t.winSizeSpy=function(e){return t.winSizeSpy=function(){return o},e=e||{throttle:100},o.on("resize",i(n,e.throttle||100))},t.fn.scrollSpy=function(e){return t.scrollSpy(t(this),e)}}(jQuery);